"use strict";(self.webpackChunktp_threejs=self.webpackChunktp_threejs||[]).push([[34,37],{752:(e,t,n)=>{n.d(t,{a:()=>r});var i=n(2212),s=n(5357);class r{constructor(e){this.appId="00",this.appName="BASE",this.width=s.c.width,this.height=s.c.height,this.canvas=null,this.viewCenter=new i.pc(0,0,0),this.handle=-1,this.canvas=e}initRender(){const e=new i.rc({antialias:!0,canvas:this.canvas});e.setSize(this.width,this.height),e.setClearColor("#000000",1),e.setPixelRatio(window.devicePixelRatio),this.renderer=e}initScene(){const e=new i.Qb;this.scene=e}initCamera(){}initLight(){}initModel(){}onCreating(){}onCreated(){}onRender(){}onDestroy(){}onResize(){}create(){this.onCreating(),this.initRender(),this.initScene(),this.initCamera(),this.initLight(),this.initModel(),this.onCreated()}render(){var e;null===(e=this.renderer)||void 0===e||e.clear(),this.onRender(),this.handle=requestAnimationFrame(this.render.bind(this))}run(){this.create(),this.render()}resize(){var e,t;this.width=window.innerWidth,this.height=window.innerHeight,this.camera&&this.camera instanceof i.zb&&(this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix()),null===(e=this.renderer)||void 0===e||e.setSize(this.width,this.height),null===(t=this.renderer)||void 0===t||t.setPixelRatio(Math.min(2,window.devicePixelRatio)),this.onResize()}destroy(){this.onDestroy(),this.scene.clear(),this.renderer.clear(),cancelAnimationFrame(this.handle),console.log(`销毁应用【${this.appId} ${this.appName}】`)}}},7079:(e,t,n)=>{n.r(t),n.d(t,{BaseJourney:()=>s});var i=n(752);class s extends i.a{}},5115:(e,t,n)=>{n.r(t),n.d(t,{Journey12:()=>a});var i=n(4376),s=n(2212),r=n(9365),o=n(7079);class a extends o.BaseJourney{initCamera(){const e=new s.zb(75,this.width/this.height);e.position.set(0,0,3),e.lookAt(new s.pc(0,0,0)),this.camera=e,this.scene.add(e),this.controls=new r.a(e,this.canvas),this.controls.enableDamping=!0}initLight(){const e=new s.c(16777215,.5);this.scene.add(e);const t=new s.Db(16777215,.5);t.position.x=2,t.position.y=3,t.position.z=4,this.scene.add(t)}initModel(){const e=new i.a;this.gui=e;const t=new s.bb;t.onLoad=()=>{console.log("load Complete")},t.onError=e=>{console.log("load error: ",e)},t.onProgress=(e,t,n)=>{console.info(`loading.....${t}/${n} - ${e}`)};const n=new s.ec(t),r=new s.u,o=(n.load("./resource/journey/door/color.jpg"),n.load("./resource/journey/door/alpha.jpg"),n.load("./resource/journey/door/ambientOcclusion.jpg"),n.load("./resource/journey/door/height.jpg"),n.load("./resource/journey/door/normal.jpg"),n.load("./resource/journey/door/metalness.jpg"),n.load("./resource/journey/door/roughness.jpg"),n.load("./resource/journey/matcaps/8.png"),n.load("./resource/journey/gradients/5.jpg"),n.load("./resource/journey/gradients/3.jpg"),r.load(["./resource/journey/environmentMaps/1/px.jpg","./resource/journey/environmentMaps/1/nx.jpg","./resource/journey/environmentMaps/1/py.jpg","./resource/journey/environmentMaps/1/ny.jpg","./resource/journey/environmentMaps/1/pz.jpg","./resource/journey/environmentMaps/1/nz.jpg"])),a=new s.lb;a.metalness=.7,a.roughness=.2,e.add(a,"metalness").min(0).max(1).step(1e-4),e.add(a,"roughness").min(0).max(1).step(1e-4),a.envMap=o;const h=new s.nb(new s.Xb(.5,64,64),a);h.geometry.setAttribute("uv2",new s.l(h.geometry.attributes.uv.array,2)),h.position.x=-1.5;const d=new s.nb(new s.Ab(1,1,100,100),a);d.geometry.setAttribute("uv2",new s.l(d.geometry.attributes.uv.array,2));const c=new s.nb(new s.gc(.3,.2,64,128),a);c.geometry.setAttribute("uv2",new s.l(c.geometry.attributes.uv.array,2)),c.position.x=1.5,this.scene.add(h,d,c)}onRender(){this.controls.update(),this.renderer.render(this.scene,this.camera)}onDestroy(){var e;null===(e=this.gui)||void 0===e||e.destroy()}}}}]);
//# sourceMappingURL=34.min_5a5800dba4.js.map