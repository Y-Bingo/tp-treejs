(self.webpackChunktp_threejs=self.webpackChunktp_threejs||[]).push([[16,37],{3466:function(e){var t;e.exports=(t=function(){function e(e){return a.appendChild(e.dom),e}function i(e){for(var t=0;t<a.children.length;t++)a.children[t].style.display=t===e?"block":"none";n=e}var n=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",(function(e){e.preventDefault(),i(++n%a.children.length)}),!1);var s=(performance||Date).now(),r=s,o=0,h=e(new t.Panel("FPS","#0ff","#002")),d=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new t.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:a,addPanel:e,showPanel:i,begin:function(){s=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(d.update(e-s,200),e>r+1e3&&(h.update(1e3*o/(e-r),100),r=e,o=0,l)){var t=performance.memory;l.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){s=this.end()},domElement:a,setMode:i}},t.Panel=function(e,t,i){var n=1/0,a=0,s=Math.round,r=s(window.devicePixelRatio||1),o=80*r,h=48*r,d=3*r,l=2*r,c=3*r,w=15*r,p=74*r,f=30*r,m=document.createElement("canvas");m.width=o,m.height=h,m.style.cssText="width:80px;height:48px";var u=m.getContext("2d");return u.font="bold "+9*r+"px Helvetica,Arial,sans-serif",u.textBaseline="top",u.fillStyle=i,u.fillRect(0,0,o,h),u.fillStyle=t,u.fillText(e,d,l),u.fillRect(c,w,p,f),u.fillStyle=i,u.globalAlpha=.9,u.fillRect(c,w,p,f),{dom:m,update:function(h,v){n=Math.min(n,h),a=Math.max(a,h),u.fillStyle=i,u.globalAlpha=1,u.fillRect(0,0,o,w),u.fillStyle=t,u.fillText(s(h)+" "+e+" ("+s(n)+"-"+s(a)+")",d,l),u.drawImage(m,c+r,w,p-r,f,c,w,p-r,f),u.fillRect(c+p-r,w,r,f),u.fillStyle=i,u.globalAlpha=.9,u.fillRect(c+p-r,w,r,s((1-h/v)*f))}}},t)},752:(e,t,i)=>{"use strict";i.d(t,{a:()=>s});var n=i(2212),a=i(5357);class s{constructor(e){this.appId="00",this.appName="BASE",this.width=a.c.width,this.height=a.c.height,this.canvas=null,this.viewCenter=new n.pc(0,0,0),this.handle=-1,this.canvas=e}initRender(){const e=new n.rc({antialias:!0,canvas:this.canvas});e.setSize(this.width,this.height),e.setClearColor("#000000",1),e.setPixelRatio(window.devicePixelRatio),this.renderer=e}initScene(){const e=new n.Qb;this.scene=e}initCamera(){}initLight(){}initModel(){}onCreating(){}onCreated(){}onRender(){}onDestroy(){}onResize(){}create(){this.onCreating(),this.initRender(),this.initScene(),this.initCamera(),this.initLight(),this.initModel(),this.onCreated()}render(){var e;null===(e=this.renderer)||void 0===e||e.clear(),this.onRender(),this.handle=requestAnimationFrame(this.render.bind(this))}run(){this.create(),this.render()}resize(){var e,t;this.width=window.innerWidth,this.height=window.innerHeight,this.camera&&this.camera instanceof n.zb&&(this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix()),null===(e=this.renderer)||void 0===e||e.setSize(this.width,this.height),null===(t=this.renderer)||void 0===t||t.setPixelRatio(Math.min(2,window.devicePixelRatio)),this.onResize()}destroy(){this.onDestroy(),this.scene.clear(),this.renderer.clear(),cancelAnimationFrame(this.handle),console.log(`销毁应用【${this.appId} ${this.appName}】`)}}},7079:(e,t,i)=>{"use strict";i.r(t),i.d(t,{BaseJourney:()=>a});var n=i(752);class a extends n.a{}},1958:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Journey33:()=>d});var n=i(4376),a=i(3466),s=i.n(a),r=i(2212),o=i(9365),h=i(7079);class d extends h.BaseJourney{constructor(){super(...arguments),this.lastTimeStamp=0}onCreating(){this.params={envMapIntensity:5},this.clock=new r.r,this.gui=new n.a;const e=new(s());e.showPanel(0),document.body.appendChild(e.dom),this.stats=e}onCreated(){this.controls=new o.a(this.camera,this.canvas),this.controls.enableDamping=!0,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=r.xb}initLight(){const e=new r.y("#ffffff",1);e.castShadow=!0,e.shadow.mapSize.set(1024,1024),e.shadow.camera.far=15,e.shadow.normalBias=.05,e.position.set(.25,3,2.25),this.scene.add(e)}initCamera(){const e=new r.zb(75,this.width/this.height,.1,100);e.position.set(2,2,6),this.camera=e,this.scene.add(e)}initModel(){const e=this.scene,t=new r.nb(new r.i(2,2,2),new r.lb);t.castShadow=!0,t.receiveShadow=!0,t.position.set(-5,0,0),e.add(t);const i=new r.nb(new r.ic(1,.4,128,32),new r.lb);i.castShadow=!0,i.receiveShadow=!0,e.add(i);const n=new r.nb(new r.Xb(1,32,32),new r.lb);n.position.set(5,0,0),n.castShadow=!0,n.receiveShadow=!0,e.add(n);const a=new r.nb(new r.Ab(10,10),new r.lb);a.position.set(0,-2,0),a.rotation.x=.5*-Math.PI,a.castShadow=!0,a.receiveShadow=!0,e.add(a)}onRender(){this.controls.update(),this.renderer.render(this.scene,this.camera),this.stats.end()}onDestroy(){var e,t;null===(e=this.gui)||void 0===e||e.destroy(),(null===(t=this.stats)||void 0===t?void 0:t.dom.parentElement)&&document.body.removeChild(this.stats.dom)}}}}]);
//# sourceMappingURL=16.min_3cad1de7ca.js.map