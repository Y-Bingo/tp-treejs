"use strict";(self.webpackChunktp_threejs=self.webpackChunktp_threejs||[]).push([[14,37],{752:(e,t,i)=>{i.d(t,{a:()=>r});var s=i(2212),n=i(5357);class r{constructor(e){this.appId="00",this.appName="BASE",this.width=n.c.width,this.height=n.c.height,this.canvas=null,this.viewCenter=new s.pc(0,0,0),this.handle=-1,this.canvas=e}initRender(){const e=new s.rc({antialias:!0,canvas:this.canvas});e.setSize(this.width,this.height),e.setClearColor("#000000",1),e.setPixelRatio(window.devicePixelRatio),this.renderer=e}initScene(){const e=new s.Qb;this.scene=e}initCamera(){}initLight(){}initModel(){}onCreating(){}onCreated(){}onRender(){}onDestroy(){}onResize(){}create(){this.onCreating(),this.initRender(),this.initScene(),this.initCamera(),this.initLight(),this.initModel(),this.onCreated()}render(){var e;null===(e=this.renderer)||void 0===e||e.clear(),this.onRender(),this.handle=requestAnimationFrame(this.render.bind(this))}run(){this.create(),this.render()}resize(){var e,t;this.width=window.innerWidth,this.height=window.innerHeight,this.camera&&this.camera instanceof s.zb&&(this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix()),null===(e=this.renderer)||void 0===e||e.setSize(this.width,this.height),null===(t=this.renderer)||void 0===t||t.setPixelRatio(Math.min(2,window.devicePixelRatio)),this.onResize()}destroy(){this.onDestroy(),this.scene.clear(),this.renderer.clear(),cancelAnimationFrame(this.handle),console.log(`销毁应用【${this.appId} ${this.appName}】`)}}},7079:(e,t,i)=>{i.r(t),i.d(t,{BaseJourney:()=>n});var s=i(752);class n extends s.a{}},1812:(e,t,i)=>{i.r(t),i.d(t,{Journey18:()=>h});var s=i(4376),n=i(2212),r=i(9365),a=i(7079);class h extends a.BaseJourney{onCreating(){this.clock=new n.r,this.gui=new s.a}onCreated(){this.controls=new r.a(this.camera,this.canvas),this.controls.enableDamping=!0}initCamera(){const e=new n.zb(75,this.width/this.height);e.position.set(0,2,2),e.lookAt(new n.pc(0,0,0)),this.camera=e,this.scene.add(e)}initModel(){const e=this.scene,t=(new n.ec).load("./resource/journey/particles/2.png"),i=new n.m,s=new Float32Array(6e4),r=new Float32Array(6e4);for(let e=0;e<6e4;e++)s[e]=8*(Math.random()-.5),r[e]=Math.random();i.setAttribute("position",new n.l(s,3)),i.setAttribute("color",new n.l(r,3));const a=new n.Eb;a.size=.1,a.sizeAttenuation=!0,a.transparent=!0,a.alphaMap=t,a.depthWrite=!1,a.blending=n.b,a.vertexColors=!0;const h=new n.Fb(i,a);e.add(h),this.particles=h}onRender(){this.controls.update(),this.renderer.render(this.scene,this.camera);const e=this.clock.getElapsedTime();for(let t=0;t<2e4;t++){const i=3*t,s=this.particles.geometry.attributes.position.array,n=s[i+0];s[i+1]=Math.sin(e+n)}this.particles.geometry.attributes.position.needsUpdate=!0}onDestroy(){var e;null===(e=this.gui)||void 0===e||e.destroy()}}}}]);
//# sourceMappingURL=14.min_d8aeb96e8d.js.map