"use strict";(self.webpackChunktp_threejs=self.webpackChunktp_threejs||[]).push([[38,37],{7597:(e,i,t)=>{t.d(i,{c:()=>s,a:()=>n,b:()=>d});var a=t(2212);function s(e,i,t,a){t&&(e=e.addFolder(t)),e.add(i,"x",-10,10,.01).onChange(a),e.add(i,"y",0,10,.01).onChange(a),e.add(i,"z",-10,10,.01).onChange(a)}class n{constructor(e,i){this.obj=e,this.prop=i}get value(){return`#${this.obj[this.prop].getHexString()}`}set value(e){this.obj[this.prop].set(e)}}class d{constructor(e,i){this.obj=e,this.prop=i}get value(){return a.eb.radToDeg(this.obj[this.prop])}set value(e){this.obj[this.prop]=a.eb.degToRad(e)}}},752:(e,i,t)=>{t.d(i,{a:()=>n});var a=t(2212),s=t(5357);class n{constructor(e){this.appId="00",this.appName="BASE",this.width=s.c.width,this.height=s.c.height,this.canvas=null,this.viewCenter=new a.pc(0,0,0),this.handle=-1,this.canvas=e}initRender(){const e=new a.rc({antialias:!0,canvas:this.canvas});e.setSize(this.width,this.height),e.setClearColor("#000000",1),e.setPixelRatio(window.devicePixelRatio),this.renderer=e}initScene(){const e=new a.Qb;this.scene=e}initCamera(){}initLight(){}initModel(){}onCreating(){}onCreated(){}onRender(){}onDestroy(){}onResize(){}create(){this.onCreating(),this.initRender(),this.initScene(),this.initCamera(),this.initLight(),this.initModel(),this.onCreated()}render(){var e;null===(e=this.renderer)||void 0===e||e.clear(),this.onRender(),this.handle=requestAnimationFrame(this.render.bind(this))}run(){this.create(),this.render()}resize(){var e,i;this.width=window.innerWidth,this.height=window.innerHeight,this.camera&&this.camera instanceof a.zb&&(this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix()),null===(e=this.renderer)||void 0===e||e.setSize(this.width,this.height),null===(i=this.renderer)||void 0===i||i.setPixelRatio(Math.min(2,window.devicePixelRatio)),this.onResize()}destroy(){this.onDestroy(),this.scene.clear(),this.renderer.clear(),cancelAnimationFrame(this.handle),console.log(`销毁应用【${this.appId} ${this.appName}】`)}}},7079:(e,i,t)=>{t.r(i),t.d(i,{BaseJourney:()=>s});var a=t(752);class s extends a.a{}},9500:(e,i,t)=>{t.r(i),t.d(i,{Journey16:()=>o});var a=t(4376),s=t(2212),n=t(9365),d=t(7597),h=t(7079);class o extends h.BaseJourney{onCreating(){this.clock=new s.r,this.gui=new a.a}onCreated(){this.controls=new n.a(this.camera,this.canvas),this.controls.enableDamping=!0;const e=new s.g;this.scene.add(e),this.renderer.shadowMap.enabled=!0}initCamera(){const e=new s.zb(75,this.width/this.height);e.position.set(0,0,3),e.lookAt(new s.pc(0,0,0)),this.camera=e,this.scene.add(e)}initLight(){const e=this.scene,i=new s.c(16777215,.3),t=this.gui.addFolder("AmbientLight");t.add(i,"intensity",0,1,.01),t.add(i,"visible"),t.addColor(new d.a(i,"color"),"value").name("color"),e.add(i);const a=this.gui.addFolder("DirectionalLight"),n=new s.y(16777215,.3);n.position.set(2,2,-1),n.castShadow=!0,n.shadow.mapSize.width=1024,n.shadow.mapSize.height=1024,n.shadow.camera.near=2,n.shadow.camera.far=6,n.shadow.camera.top=2,n.shadow.camera.bottom=-2,n.shadow.camera.left=-2,n.shadow.camera.right=2,n.shadow.radius=10,a.add(n,"intensity").min(0).max(1.3).step(.01),a.add(n,"visible"),a.addColor(new d.a(n,"color"),"value").name("color"),(0,d.c)(a,n.position,null,(()=>{o.update()})),e.add(n);const h=new s.n(n.shadow.camera);h.visible=!1,a.add(h,"visible").name("light-camera"),e.add(h);const o=new s.x(n,.5);o.visible=!1,a.add(o,"visible").name("helper"),e.add(o);const r=this.gui.addFolder("SpotLight"),c=new s.ac(16777215,.3,10,.2*Math.PI);c.position.set(0,2,2),c.castShadow=!0,c.shadow.mapSize.width=1024,c.shadow.mapSize.height=1024,c.shadow.camera.fov=30,c.shadow.camera.near=1,c.shadow.camera.far=6,e.add(c),e.add(c.target),r.add(c,"intensity",0,10,.01),r.add(c,"visible"),r.add(new d.b(c,"angle"),"value",0,180).name("angle"),r.add(c,"penumbra",0,1,.01),(0,d.c)(r,c.position);const l=new s.n(c.shadow.camera);l.visible=!1,r.add(l,"visible").name("light-camera"),e.add(l);const w=new s.$b(c);w.visible=!1,r.add(w,"visible",0,1,.01).name("helper"),e.add(w);const m=this.gui.addFolder("PointLight"),p=new s.Db(16777215,.3);p.position.set(-1,1,0),p.castShadow=!0,p.shadow.mapSize.width=1024,p.shadow.mapSize.height=1024,p.shadow.camera.near=.1,p.shadow.camera.far=5,m.add(p,"intensity",0,1.3,.01),m.add(p,"visible"),m.addColor(new d.a(p,"color"),"value").name("color"),(0,d.c)(m,p.position),e.add(p);const g=new s.n(p.shadow.camera);g.visible=!1,m.add(g,"visible").name("light-camera"),e.add(g);const b=new s.Cb(p,.1);b.visible=!1,m.add(b,"visible",0,1,.01).name("helper"),e.add(b)}initModel(){this.meshArr=[];const e=new s.lb;e.roughness=.7;const i=this.gui.addFolder("material");i.add(e,"roughness").min(0).max(1).step(.01),i.add(e,"metalness").min(0).max(1).step(.01);const t=new s.nb(new s.Xb(.5,32,32),e);t.castShadow=!0;const a=new s.nb(new s.Ab(5,5),e);a.rotation.x=.5*-Math.PI,a.position.y=-.5,a.receiveShadow=!0,this.meshArr.push(t),this.scene.add(a,t)}onRender(){this.controls.update(),this.renderer.render(this.scene,this.camera);const e=this.clock.getElapsedTime();this.meshArr.forEach((i=>{i.rotation.x=1.5*Math.sin(e),i.rotation.z=1.5*Math.cos(e),i.rotation.y=Math.abs(Math.sin(e))}))}onDestroy(){var e;null===(e=this.gui)||void 0===e||e.destroy(),this.meshArr.length=0}}}}]);
//# sourceMappingURL=38.min_7d05418347.js.map