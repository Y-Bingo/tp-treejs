{"version":3,"file":"38.min_7d05418347.js","mappings":"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","sources":["webpack://tp_threejs/./src/Helper/DebugHelper.ts","webpack://tp_threejs/./src/ThreeJs/BaseApplication.ts","webpack://tp_threejs/./src/ThreeJs/Journey/BaseJourney.ts","webpack://tp_threejs/./src/ThreeJs/Journey/Journey16.ts"],"sourcesContent":["import * as dat from 'dat.gui';\nimport * as THREE from 'three';\n\nexport function makeXYZGUI(gui: dat.GUI, vector3: THREE.Vector3, name?: string, onChangeFn?: () => void) {\n\tif (name) {\n\t\tgui = gui.addFolder(name);\n\t}\n\tgui.add(vector3, 'x', -10, 10, 0.01).onChange(onChangeFn);\n\tgui.add(vector3, 'y', 0, 10, 0.01).onChange(onChangeFn);\n\tgui.add(vector3, 'z', -10, 10, 0.01).onChange(onChangeFn);\n\t// gui.open();\n}\n\n/**\n * 颜色转换\n */\nexport class ColorGUIHelper {\n\tprivate obj: any;\n\tprivate prop: any;\n\tconstructor(obj, prop) {\n\t\tthis.obj = obj;\n\t\tthis.prop = prop;\n\t}\n\tget value() {\n\t\treturn `#${this.obj[this.prop].getHexString()}`;\n\t}\n\tset value(hexString) {\n\t\tthis.obj[this.prop].set(hexString);\n\t}\n}\n\n/**\n * 角度转换\n */\nexport class DegRadHelper {\n\tprivate obj: any;\n\tprivate prop: any;\n\tconstructor(obj, prop) {\n\t\tthis.obj = obj;\n\t\tthis.prop = prop;\n\t}\n\tget value() {\n\t\treturn THREE.MathUtils.radToDeg(this.obj[this.prop]);\n\t}\n\tset value(v) {\n\t\tthis.obj[this.prop] = THREE.MathUtils.degToRad(v);\n\t}\n}\n\n/**\n * 字符转换\n */\nexport class StringToNumberHelper {\n\tprivate obj: any;\n\tprivate prop: any;\n\tconstructor(obj, prop) {\n\t\tthis.obj = obj;\n\t\tthis.prop = prop;\n\t}\n\tget value() {\n\t\treturn this.obj[this.prop];\n\t}\n\tset value(v) {\n\t\tthis.obj[this.prop] = parseFloat(v);\n\t}\n}\n","import { Camera, PerspectiveCamera, Scene, Vector3, WebGLRenderer } from 'three';\nimport { STAGE } from './../Config';\n\n/**\n * 应用基类\n */\nexport class BaseApplication {\n\tpublic appId: string = '00';\n\tpublic appName: string = 'BASE';\n\tprotected width: number = STAGE.width;\n\tprotected height: number = STAGE.height;\n\tprotected canvas: HTMLCanvasElement = null;\n\n\tprotected scene: Scene;\n\tprotected camera: Camera;\n\tprotected renderer: WebGLRenderer;\n\tprotected viewCenter: Vector3 = new Vector3(0, 0, 0);\n\n\tpublic constructor(canvas: HTMLCanvasElement) {\n\t\tthis.canvas = canvas;\n\t}\n\n\t/**\n\t * @override 子类覆写\n\t */\n\tprotected initRender(): void {\n\t\tconst renderer = new WebGLRenderer({\n\t\t\tantialias: true, // 抗锯齿开启\n\t\t\tcanvas: this.canvas,\n\t\t});\n\t\trenderer.setSize(this.width, this.height); // 设置渲染器的宽度和高度\n\t\trenderer.setClearColor('#000000', 1.0); // 设置背景颜色\n\t\trenderer.setPixelRatio(window.devicePixelRatio); // 设置设备像素比\n\n\t\tthis.renderer = renderer;\n\t}\n\n\t/**\n\t * @override 子类覆写\n\t */\n\tprotected initScene(): void {\n\t\tconst scene = new Scene();\n\t\tthis.scene = scene;\n\t}\n\n\t/**\n\t * @override\n\t */\n\tprotected initCamera(): void {}\n\n\t/**\n\t * @override 子类覆写\n\t */\n\tprotected initLight(): void {}\n\n\t/**\n\t * @override 子类覆写\n\t */\n\tprotected initModel(): void {}\n\n\t/**\n\t * @override 子类复写\n\t */\n\tprotected onCreating(): void {}\n\n\t/**\n\t * @override 子类复写\n\t */\n\tprotected onCreated(): void {}\n\n\t/**\n\t * @override 子类覆写\n\t * 开始渲染\n\t */\n\tprotected onRender(): void {}\n\n\t/**\n\t * @override 子类覆写\n\t * 开始销毁\n\t */\n\tprotected onDestroy(): void {}\n\n\t/**\n\t * @override 子类覆写\n\t * 开始 resize\n\t */\n\tprotected onResize(): void {}\n\n\t/**\n\t * 创建后的调用\n\t */\n\tprivate create(): void {\n\t\tthis.onCreating();\n\t\tthis.initRender();\n\t\tthis.initScene();\n\t\tthis.initCamera();\n\t\tthis.initLight();\n\t\tthis.initModel();\n\t\tthis.onCreated();\n\t}\n\n\t/**\n\t * 渲染\n\t */\n\tprivate render(): void {\n\t\tthis.renderer?.clear();\n\t\tthis.onRender();\n\t\tthis.handle = requestAnimationFrame(this.render.bind(this));\n\t}\n\n\t/**\n\t * 开始执行\n\t */\n\tprivate handle: number = -1;\n\tpublic run(): void {\n\t\tthis.create();\n\t\tthis.render();\n\t}\n\n\t/**\n\t * 视口变化\n\t */\n\tpublic resize(): void {\n\t\t// update size\n\t\tthis.width = window.innerWidth;\n\t\tthis.height = window.innerHeight;\n\n\t\t// update camera\n\t\tif (this.camera && this.camera instanceof PerspectiveCamera) {\n\t\t\tthis.camera.aspect = this.width / this.height;\n\t\t\tthis.camera.updateProjectionMatrix();\n\t\t}\n\n\t\t// update renderer\n\t\tthis.renderer?.setSize(this.width, this.height);\n\t\tthis.renderer?.setPixelRatio(Math.min(2, window.devicePixelRatio));\n\n\t\tthis.onResize();\n\t}\n\n\t/**\n\t * @override 子类覆写\n\t * 销毁清理\n\t */\n\tpublic destroy(): void {\n\t\tthis.onDestroy();\n\n\t\tthis.scene.clear();\n\t\tthis.renderer.clear();\n\t\tcancelAnimationFrame(this.handle);\n\t\tconsole.log(`销毁应用【${this.appId} ${this.appName}】`);\n\t}\n}\n","import { BaseApplication } from '../BaseApplication';\n\nexport class BaseJourney extends BaseApplication {}\n","import * as dat from 'dat.gui';\nimport * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { ColorGUIHelper, DegRadHelper, makeXYZGUI } from '../../Helper/DebugHelper';\nimport { BaseJourney } from './BaseJourney';\n\n/**\n * Journey - Shadow\n */\n\nexport class Journey16 extends BaseJourney {\n\tprivate gui: dat.GUI;\n\tprivate clock: THREE.Clock;\n\n\t/**\n\t * @override\n\t */\n\tprotected onCreating(): void {\n\t\t// clock\n\t\tthis.clock = new THREE.Clock();\n\n\t\t// GUI\n\t\tthis.gui = new dat.GUI();\n\t}\n\n\t/**\n\t * @override\n\t */\n\tprotected onCreated(): void {\n\t\t// camera controller\n\t\tthis.controls = new OrbitControls(this.camera, this.canvas);\n\t\t// this.controls.autoRotate = true;\n\t\tthis.controls.enableDamping = true;\n\n\t\t// axes\n\t\tconst axesHelp = new THREE.AxesHelper();\n\t\tthis.scene.add(axesHelp);\n\n\t\tthis.renderer.shadowMap.enabled = true;\n\t\t// this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\t}\n\n\t/**\n\t * @override\n\t */\n\tprivate controls: OrbitControls;\n\tprotected initCamera(): void {\n\t\tconst camera = new THREE.PerspectiveCamera(75, this.width / this.height);\n\t\tcamera.position.set(0, 0, 3);\n\t\tcamera.lookAt(new THREE.Vector3(0, 0, 0));\n\n\t\tthis.camera = camera;\n\t\tthis.scene.add(camera);\n\t}\n\n\tprotected initLight(): void {\n\t\tconst scene = this.scene;\n\t\t// Ambient Light\n\t\tconst ambientLight = new THREE.AmbientLight(0xffffff, 0.3);\n\t\tconst ambientGui = this.gui.addFolder('AmbientLight');\n\t\tambientGui.add(ambientLight, 'intensity', 0, 1, 0.01);\n\t\tambientGui.add(ambientLight, 'visible');\n\t\tambientGui.addColor(new ColorGUIHelper(ambientLight, 'color'), 'value').name('color');\n\t\tscene.add(ambientLight);\n\n\t\t// Direction Light\n\t\tconst directionGui = this.gui.addFolder('DirectionalLight');\n\t\tconst directionLight = new THREE.DirectionalLight(0xffffff, 0.3);\n\t\tdirectionLight.position.set(2, 2, -1);\n\t\tdirectionLight.castShadow = true;\n\t\tdirectionLight.shadow.mapSize.width = 1024;\n\t\tdirectionLight.shadow.mapSize.height = 1024;\n\t\tdirectionLight.shadow.camera.near = 2;\n\t\tdirectionLight.shadow.camera.far = 6;\n\t\tdirectionLight.shadow.camera.top = 2;\n\t\tdirectionLight.shadow.camera.bottom = -2;\n\t\tdirectionLight.shadow.camera.left = -2;\n\t\tdirectionLight.shadow.camera.right = 2;\n\t\tdirectionLight.shadow.radius = 10;\n\n\t\tdirectionGui.add(directionLight, 'intensity').min(0).max(1.3).step(0.01);\n\t\tdirectionGui.add(directionLight, 'visible');\n\t\tdirectionGui.addColor(new ColorGUIHelper(directionLight, 'color'), 'value').name('color');\n\t\tmakeXYZGUI(directionGui, directionLight.position, null, () => {\n\t\t\tdirectionLightHelper.update();\n\t\t});\n\t\tscene.add(directionLight);\n\n\t\tconst directionLightCameraHelper = new THREE.CameraHelper(directionLight.shadow.camera);\n\t\tdirectionLightCameraHelper.visible = false;\n\t\tdirectionGui.add(directionLightCameraHelper, 'visible').name('light-camera');\n\t\tscene.add(directionLightCameraHelper);\n\n\t\tconst directionLightHelper = new THREE.DirectionalLightHelper(directionLight, 0.5);\n\t\tdirectionLightHelper.visible = false;\n\t\tdirectionGui.add(directionLightHelper, 'visible').name('helper');\n\t\tscene.add(directionLightHelper);\n\n\t\t// // HemisphereLight\n\t\t// const hemisphereLight = new THREE.HemisphereLight(0xff0000, 0x00ff, 0.3);\n\t\t// const hemisphereLightGui = this.gui.addFolder('HemisphereLight');\n\t\t// hemisphereLightGui.add(hemisphereLight, 'intensity', 0, 1.3, 0.01);\n\t\t// hemisphereLightGui.add(hemisphereLight, 'visible');\n\t\t// hemisphereLightGui.addColor(new ColorGUIHelper(hemisphereLight, 'color'), 'value').name('color');\n\t\t// scene.add(hemisphereLight);\n\n\t\t// const hemisphereLightHelper = new THREE.HemisphereLightHelper(hemisphereLight, 0.3);\n\t\t// hemisphereLightHelper.visible = false;\n\t\t// hemisphereLightGui.add(hemisphereLightHelper, 'visible', 0, 1, 0.01).name('helper');\n\t\t// scene.add(hemisphereLightHelper);\n\n\t\t// // Rect Light\n\t\t// const rectAreaLight = new THREE.RectAreaLight(0xffffff, 5, 2, 1);\n\t\t// rectAreaLight.position.set(-1, 0, -0.5);\n\t\t// const rectAreaLightGui = this.gui.addFolder('RectAreaLight');\n\t\t// rectAreaLightGui.add(rectAreaLight, 'intensity', 0, 1.3, 0.01);\n\t\t// rectAreaLightGui.add(rectAreaLight, 'visible');\n\t\t// rectAreaLightGui.add(rectAreaLight, 'width', 0, 20);\n\t\t// rectAreaLightGui.add(rectAreaLight, 'height', 0, 20);\n\t\t// rectAreaLightGui.add(new DegRadHelper(rectAreaLight.rotation, 'x'), 'value', -180, 180).name('x rotation');\n\t\t// rectAreaLightGui.add(new DegRadHelper(rectAreaLight.rotation, 'y'), 'value', -180, 180).name('y rotation');\n\t\t// rectAreaLightGui.add(new DegRadHelper(rectAreaLight.rotation, 'z'), 'value', -180, 180).name('z rotation');\n\t\t// rectAreaLightGui.addColor(new ColorGUIHelper(rectAreaLight, 'color'), 'value').name('color');\n\t\t// makeXYZGUI(rectAreaLightGui, rectAreaLight.position);\n\t\t// scene.add(rectAreaLight);\n\n\t\t// Spot Light\n\t\tconst spotLightGui = this.gui.addFolder('SpotLight');\n\t\tconst spotLight = new THREE.SpotLight(0xffffff, 0.3, 10, Math.PI * 0.2);\n\t\tspotLight.position.set(0, 2, 2);\n\t\tspotLight.castShadow = true;\n\t\tspotLight.shadow.mapSize.width = 1024;\n\t\tspotLight.shadow.mapSize.height = 1024;\n\t\tspotLight.shadow.camera.fov = 30;\n\t\tspotLight.shadow.camera.near = 1;\n\t\tspotLight.shadow.camera.far = 6;\n\t\t// spotLight.shadow.radius = 10;\n\t\tscene.add(spotLight);\n\t\tscene.add(spotLight.target);\n\n\t\tspotLightGui.add(spotLight, 'intensity', 0, 10, 0.01);\n\t\tspotLightGui.add(spotLight, 'visible');\n\t\tspotLightGui.add(new DegRadHelper(spotLight, 'angle'), 'value', 0, 180).name('angle');\n\t\tspotLightGui.add(spotLight, 'penumbra', 0, 1, 0.01);\n\t\tmakeXYZGUI(spotLightGui, spotLight.position);\n\n\t\tconst spotLightCameraHelper = new THREE.CameraHelper(spotLight.shadow.camera);\n\t\tspotLightCameraHelper.visible = false;\n\t\tspotLightGui.add(spotLightCameraHelper, 'visible').name('light-camera');\n\t\tscene.add(spotLightCameraHelper);\n\n\t\tconst spotLightHelper = new THREE.SpotLightHelper(spotLight);\n\t\tspotLightHelper.visible = false;\n\t\tspotLightGui.add(spotLightHelper, 'visible', 0, 1, 0.01).name('helper');\n\t\tscene.add(spotLightHelper);\n\n\t\t// Point Light\n\t\tconst pointLightGui = this.gui.addFolder('PointLight');\n\t\tconst pointLight = new THREE.PointLight(0xffffff, 0.3);\n\t\tpointLight.position.set(-1, 1, 0);\n\t\tpointLight.castShadow = true;\n\t\tpointLight.shadow.mapSize.width = 1024;\n\t\tpointLight.shadow.mapSize.height = 1024;\n\t\tpointLight.shadow.camera.near = 0.1;\n\t\tpointLight.shadow.camera.far = 5;\n\n\t\tpointLightGui.add(pointLight, 'intensity', 0, 1.3, 0.01);\n\t\tpointLightGui.add(pointLight, 'visible');\n\t\tpointLightGui.addColor(new ColorGUIHelper(pointLight, 'color'), 'value').name('color');\n\t\tmakeXYZGUI(pointLightGui, pointLight.position);\n\t\tscene.add(pointLight);\n\n\t\tconst pointLightCameraHelper = new THREE.CameraHelper(pointLight.shadow.camera);\n\t\tpointLightCameraHelper.visible = false;\n\t\tpointLightGui.add(pointLightCameraHelper, 'visible').name('light-camera');\n\t\tscene.add(pointLightCameraHelper);\n\n\t\tconst pointLightHelper = new THREE.PointLightHelper(pointLight, 0.1);\n\t\tpointLightHelper.visible = false;\n\t\tpointLightGui.add(pointLightHelper, 'visible', 0, 1, 0.01).name('helper');\n\t\tscene.add(pointLightHelper);\n\t}\n\n\t/**\n\t * @override\n\t */\n\tpublic meshArr: THREE.Mesh[];\n\tprotected initModel(): void {\n\t\tthis.meshArr = [];\n\n\t\tconst material = new THREE.MeshStandardMaterial();\n\t\tmaterial.roughness = 0.7;\n\t\tconst gui = this.gui.addFolder('material');\n\t\tgui.add(material, 'roughness').min(0).max(1).step(0.01);\n\t\tgui.add(material, 'metalness').min(0).max(1).step(0.01);\n\n\t\tconst sphere = new THREE.Mesh(new THREE.SphereBufferGeometry(0.5, 32, 32), material);\n\t\tsphere.castShadow = true;\n\n\t\tconst plane = new THREE.Mesh(new THREE.PlaneBufferGeometry(5, 5), material);\n\t\tplane.rotation.x = -Math.PI * 0.5;\n\t\tplane.position.y = -0.5;\n\t\tplane.receiveShadow = true;\n\n\t\tthis.meshArr.push(sphere);\n\t\tthis.scene.add(plane, sphere);\n\t}\n\n\t/**\n\t * @override\n\t */\n\tprotected onRender(): void {\n\t\tthis.controls.update();\n\t\tthis.renderer.render(this.scene, this.camera);\n\n\t\tconst elapsedTime = this.clock.getElapsedTime();\n\t\tthis.meshArr.forEach(obj => {\n\t\t\tobj.rotation.x = Math.sin(elapsedTime) * 1.5;\n\t\t\tobj.rotation.z = Math.cos(elapsedTime) * 1.5;\n\t\t\tobj.rotation.y = Math.abs(Math.sin(elapsedTime));\n\t\t});\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tprotected onDestroy(): void {\n\t\tthis.gui?.destroy();\n\t\tthis.meshArr.length = 0;\n\t}\n}\n"],"names":["makeXYZGUI","gui","vector3","name","onChangeFn","addFolder","add","onChange","ColorGUIHelper","constructor","obj","prop","this","value","getHexString","hexString","set","DegRadHelper","v","BaseApplication","canvas","appId","appName","width","height","viewCenter","handle","initRender","renderer","antialias","setSize","setClearColor","setPixelRatio","window","devicePixelRatio","initScene","scene","initCamera","initLight","initModel","onCreating","onCreated","onRender","onDestroy","onResize","create","render","clear","requestAnimationFrame","bind","run","resize","innerWidth","innerHeight","camera","aspect","updateProjectionMatrix","Math","min","destroy","cancelAnimationFrame","console","log","BaseJourney","Journey16","clock","controls","enableDamping","axesHelp","shadowMap","enabled","position","lookAt","ambientLight","ambientGui","addColor","directionGui","directionLight","castShadow","shadow","mapSize","near","far","top","bottom","left","right","radius","max","step","directionLightHelper","update","directionLightCameraHelper","visible","spotLightGui","spotLight","PI","fov","target","spotLightCameraHelper","spotLightHelper","pointLightGui","pointLight","pointLightCameraHelper","pointLightHelper","meshArr","material","roughness","sphere","plane","rotation","x","y","receiveShadow","push","elapsedTime","getElapsedTime","forEach","sin","z","cos","abs","length"],"sourceRoot":""}